---
title: 汇编语言-宏汇编
mathjax: true
date: 2019-06-22 14:05:07
tags: [汇编]
---

# 与子程序比较

|        |                  优点                  |                  缺点                  |
| :----: | :------------------------------------: | :------------------------------------: |
| 子程序 | 模块化，省内存，程序只占用一份存储空间 | 保存及恢复寄存器、参数传递增加额外开销 |
| 宏汇编 |              参数传送简单              |    每调用一次就展开一次，内存消耗大    |

# 宏定义

```assembly
macroname macro [dummy parameter list]
	...
	endm
```

## &

宏展开时，合并前后两个符号形成一个符号

```assembly
LEAP MACRO COND,LAB
	J&COND LAB
	ENDM
```

## %

把跟在%之后的表达式的值转换成当前基数下的数。

# LOCAL伪操作

宏定义体内使用标号需要使用`LOCAL`伪操作，其必须是`MACRO`伪操作后的第一个语句，两者之间不允许有注释和分号标志。

---

作者：[@臭咸鱼](https://github.com/chouxianyu)

转载请注明出处：<https://chouxianyu.github.io>

欢迎讨论和交流!

---

